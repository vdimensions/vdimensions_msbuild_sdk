<?xml version="1.0" encoding="utf-8"?>
<Project>
  <!-- Build settings -->
  <PropertyGroup Condition=" '$(Configuration)' == '' ">
    <Configuration>Debug</Configuration>
  </PropertyGroup>

  <PropertyGroup Condition=" '$(PlatformTarget)' == '' ">
    <PlatformTarget>AnyCPU</PlatformTarget>
  </PropertyGroup>

  <PropertyGroup Condition=" '$(Configuration)' == 'Debug' ">
    <DebugSymbols Condition=" '$(DebugSymbols)' == '' ">true</DebugSymbols>
    <DebugType Condition=" '$(DebugType)' == '' ">full</DebugType>
    <Optimize Condition=" '$(Optimize)' == '' ">false</Optimize>
  </PropertyGroup>

  <PropertyGroup Condition=" '$(Configuration)' == 'Release' ">
    <DebugType Condition=" '$(DebugType)' == '' ">pdbonly</DebugType>
    <Optimize Condition=" '$(Optimize)' == '' ">true</Optimize>
  </PropertyGroup>
  
  <!-- Common props -->  
  <PropertyGroup>
    <RootNamespace Condition=" '$(RootNamespace)' == '' ">$(AssemblyName)</RootNamespace>
  </PropertyGroup>

  <PropertyGroup  Condition=" '$(OutputPath)' == '' ">
    <OutputPath>bin\$(Configuration)</OutputPath>
    <DocumentationFile Condition=" '$(TargetFramework)' == '' ">$(OutputPath)\$(AssemblyName).xml</DocumentationFile>
    <DocumentationFile Condition=" '$(TargetFramework)' != '' ">$(OutputPath)\$(TargetFramework)\$(AssemblyName).xml</DocumentationFile>
  </PropertyGroup>

  <!-- Version derivates -->
  <PropertyGroup Condition=" '$(Version)' != '' ">
    <AssemblyVersion Condition=" '$(AssemblyFileVersion)' == '' ">$(Version)</AssemblyVersion>
    <AssemblyFileVersion Condition=" '$(AssemblyFileVersion)' == '' ">$(Version)</AssemblyFileVersion>
    <AssemblyInformationalVersion Condition=" '$(AssemblyInformationalVersion)' == '' ">$(Version)</AssemblyInformationalVersion>
  </PropertyGroup>

  <Target Name="CleanAutogeneratedNuspec" BeforeTargets="CoreClean">
    <Exec Condition="Exists('$(BaseIntermediateOutputPath)\$(Configuration)')"  Command="del /F /Q &quot;$(BaseIntermediateOutputPath)\$(Configuration)\$(AssemblyName).*.nuspec&quot;"/>
  </Target>
</Project>